"use strict";var _t=Object.create;var Q=Object.defineProperty;var Yt=Object.getOwnPropertyDescriptor;var vt=Object.getOwnPropertyNames;var Ht=Object.getPrototypeOf,Lt=Object.prototype.hasOwnProperty;var J=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pt=(t,e)=>{for(var a in e)Q(t,a,{get:e[a],enumerable:!0})},ct=(t,e,a,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vt(e))!Lt.call(t,i)&&i!==a&&Q(t,i,{get:()=>e[i],enumerable:!(n=Yt(e,i))||n.enumerable});return t};var U=(t,e,a)=>(a=t!=null?_t(Ht(t)):{},ct(e||!t||!t.__esModule?Q(a,"default",{value:t,enumerable:!0}):a,t)),Jt=t=>ct(Q({},"__esModule",{value:!0}),t);var dt=J((X,ht)=>{(function(t,e){typeof X=="object"&&typeof ht<"u"?e(X):typeof define=="function"&&define.amd?define(["exports"],e):e((t||self).logseqDateutils={})})(X,function(t){var e=function(n){return n+(n>0?["th","st","nd","rd"][n>3&&n<21||n%10>3?0:n%10]:"")},a=function(n){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()]};t.getDateForPage=function(n,i){var g=n.getFullYear(),M=n.toString().substring(4,7),f=n.getMonth()+1,S=n.getDate(),E=n.toLocaleString("default",{month:"long"});if(i==="MMM do yyyy")return"[["+M+" "+e(S)+", "+g+"]]";if(i.includes("yyyy")&&(i.includes("MM")||i.includes("MMM"))&&i.includes("dd")&&(i.includes("EEEE")||i.includes("EEE")||i.includes("E"))){var j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],F={yyyy:g,dd:("0"+S).slice(-2),MM:("0"+f).slice(-2),MMMM:E,EEEE:j[n.getDay()],EEE:j[n.getDay()].substring(0,3),E:j[n.getDay()].substring(0,1)};return"[["+i.replace(/yyyy|dd|MM|EEEE|EEE|E/gi,function(k){return F[k]})+"]]"}if(i==="do MMMM yyyy"||i==="MMMM do, yyyy"){var A={yyyy:g,do:e(S),MMMM:E};return"[["+i.replace(/yyyy|do|MMMM/gi,function(k){return A[k]})+"]]"}if(i.includes("yyyy")&&i.includes("MM")&&i.includes("dd")){var L={yyyy:g,dd:("0"+S).slice(-2),MM:("0"+f).slice(-2)};return"[["+i.replace(/yyyy|dd|MM/gi,function(k){return L[k]})+"]]"}return"[["+M+" "+e(S)+", "+g+"]]"},t.getDateForPageWithoutBrackets=function(n,i){var g=n.getFullYear(),M=n.toString().substring(4,7),f=n.getMonth()+1,S=n.getDate(),E=n.toLocaleString("default",{month:"long"});if(i==="MMM do yyyy")return M+" "+e(S)+", "+g;if(i.includes("yyyy")&&i.includes("MM")&&i.includes("dd")&&(i.includes("EEEE")||i.includes("EEE")||i.includes("E"))){var j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],F={yyyy:g,dd:("0"+S).slice(-2),MM:("0"+f).slice(-2),EEEE:j[n.getDay()],EEE:j[n.getDay()].substring(0,3),E:j[n.getDay()].substring(0,1)};return""+i.replace(/yyyy|dd|MM|EEEE|EEE|E/gi,function(k){return F[k]})}if(i==="do MMMM yyyy"||i==="MMMM do, yyyy"){var A={yyyy:g,do:e(S),MMMM:E};return""+i.replace(/yyyy|do|MMMM/gi,function(k){return A[k]})}if(i.includes("yyyy")&&i.includes("MM")&&i.includes("dd")){var L={yyyy:g,dd:("0"+S).slice(-2),MM:("0"+f).slice(-2)};return""+i.replace(/yyyy|dd|MM/gi,function(k){return L[k]})}return i==="MMMM do, yyyy"?n.toLocaleString("default",{month:"long"})+" "+e(S)+", "+g:i==="do MMM yyyy"?e(S)+" "+M+" "+g:M+" "+e(S)+", "+g},t.getDayInText=a,t.getScheduledDeadlineDateDay=function(n){return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+a(n).substring(0,3)},t.getScheduledDeadlineDateDayTime=function(n){return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+a(n).substring(0,3)+" "+n.toTimeString().substring(0,5)},t.getYYMMDDTHHMMFormat=function(n){return[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-")+"T"+n.toTimeString().substring(0,5)},t.getYYYMMDD=function(n){return[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("")}})});var ft=J(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.parseEDNString=I.EDNListParser=void 0;var T;(function(t){t[t.idle=0]="idle",t[t.string=1]="string",t[t.escape=2]="escape",t[t.comment=3]="comment"})(T||(T={}));var O;(function(t){t[t.vector=0]="vector",t[t.list=1]="list",t[t.map=2]="map",t[t.set=3]="set",t[t.tag=4]="tag"})(O||(O={}));var Ut={t:"	",r:"\r",n:`
`,"\\":"\\",'"':'"'},It=[","," ","	",`
`,"\r"],qt=/^[-+]?(0|[1-9][0-9]*)$/,Wt=/^[-+]?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?(0|[1-9][0-9]*))?M?$/,Vt={inst:t=>{if(typeof t!="string")throw new Error("#inst value must be a string");return new Date(t)}},tt=class{constructor({mapAs:e="doubleArray",setAs:a="object",keywordAs:n="object",charAs:i="object",listAs:g="object",tagHandlers:M={}}={}){this.stack=[],this.mode=T.idle,this.state="",this.started=!1,this.done=!1,this.mapAs=e,this.setAs=a,this.keywordAs=n,this.charAs=i,this.listAs=g,this.tagHandlers={...Vt,...M}}updateStack(){if(this.stack.length===0||this.result===void 0)return;let[e,a]=this.stack[this.stack.length-1];if(e===O.vector)a.push(this.result);else if(e===O.list)a.push(this.result);else if(e===O.set)a.push(this.result);else if(e===O.map)a[1].length>0?a[0].push([a[1].pop(),this.result]):a[1].push(this.result);else if(e===O.tag){if(this.stack.pop(),a==="_")this.result=void 0;else{let n=this.tagHandlers[a];n?this.result=n(this.result):this.result={tag:a,val:this.result}}this.updateStack();return}this.result=void 0}match(){if(this.state==="nil")this.result=null;else if(this.state==="true")this.result=!0;else if(this.state==="false")this.result=!1;else if(this.state[0]===":")this.result=this.keywordAs==="string"?this.state.substr(1):{key:this.state.substr(1)};else if(this.state[0]==="#")this.stack.push([O.tag,this.state.substr(1)]),this.result=void 0;else if(qt.test(this.state))this.result=parseInt(this.state,10);else if(Wt.test(this.state))this.result=parseFloat(this.state);else if(this.state[0]==="\\"){let e;this.state==="\\space"?e=" ":this.state==="\\newline"?e=`
`:this.state==="\\return"?e="\r":this.state==="\\tab"?e="	":this.state==="\\\\"?e="\\":e=this.state.substr(1),this.charAs==="string"?this.result=e:this.result={char:e}}else this.state!==""&&(this.result={sym:this.state});this.state=""}next(e){let a=[];for(let n=0;n<e.length;n++){this.stack.length===0&&this.result!==void 0&&(a.push(this.result),this.result=void 0);let i=e[n];if(this.mode===T.idle){if(i==='"'){this.match(),this.updateStack(),this.mode=T.string,this.state="";continue}if(i===";"){this.mode=T.comment;continue}if(It.includes(i)){this.match(),this.updateStack();continue}if(i==="}"){if(this.match(),this.updateStack(),this.stack.length!==0){let[M,f]=this.stack.pop();M===O.map?this.mapAs==="object"?this.result=f[0].reduce((S,[E,j])=>({...S,[E]:j}),{}):this.mapAs==="map"?this.result=new Map(f[0]):this.result={map:f[0]}:this.setAs==="array"?this.result=f:this.setAs==="set"?this.result=new Set(f):this.result={set:f}}this.updateStack();continue}if(i==="]"){this.match(),this.updateStack();let[M,f]=this.stack.pop();this.result=f,this.updateStack();continue}if(i===")"){if(this.match(),this.updateStack(),this.stack.length===0)return this.result!==void 0&&a.push(this.result),this.done=!0,a;let[M,f]=this.stack.pop();this.listAs==="array"?this.result=f:this.result={list:f},this.updateStack();continue}if(i==="["){this.match(),this.updateStack(),this.stack.push([O.vector,[]]);continue}else if(i==="("){if(!this.started){this.started=!0;continue}this.match(),this.updateStack(),this.stack.push([O.list,[]]);continue}let g=this.state+i;if(g==="#_"){this.stack.push([O.tag,i]),this.result=void 0,this.state="";continue}if(g.endsWith("#{")){this.state=this.state.slice(0,-1),this.match(),this.updateStack(),this.stack.push([O.set,[]]),this.state="";continue}if(i==="{"){this.match(),this.updateStack(),this.stack.push([O.map,[[],[]]]),this.state="";continue}this.state+=i;continue}else if(this.mode===T.string){if(i==="\\"){this.stack.push([this.mode,this.state]),this.mode=T.escape,this.state="";continue}if(i==='"'){this.mode=T.idle,this.result=this.state,this.updateStack(),this.state="";continue}this.state+=i}else if(this.mode===T.escape){let g=Ut[i],[M,f]=this.stack.pop();this.mode=M,this.state=f+g}else this.mode===T.comment&&i===`
`&&(this.mode=T.idle)}return a}isDone(){return this.done}};I.EDNListParser=tt;I.parseEDNString=(t,e)=>{let a=new tt(e),[n]=a.next("("+t+")");return n===void 0?null:n}});var lt=J(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.toEDNStringFromSimpleObject=y.toEDNString=y.toSymbol=y.toKeyword=y.tagValue=void 0;var Rt=t=>t.key!==void 0,Gt=t=>t.sym!==void 0,Kt=t=>t.map!==void 0,Zt=t=>t.set!==void 0,zt=t=>t.list!==void 0,Bt=t=>t.tag!==void 0,Qt=t=>t.char!==void 0;y.tagValue=(t,e)=>({tag:t,val:e});y.toKeyword=t=>({key:t});y.toSymbol=t=>({sym:t});y.toEDNString=t=>{if(typeof t=="string")return JSON.stringify(t);if(Array.isArray(t))return`[${t.map(y.toEDNString).join(" ")}]`;if(typeof t=="number")return t.toString();if(typeof t=="boolean")return JSON.stringify(t);if(t===null)return"nil";if(t instanceof Date)return`#inst "${t.toISOString()}"`;if(typeof t=="bigint")return`${t}N`;if(t instanceof Map)return`{${[...t].map(([e,a])=>`${y.toEDNString(e)} ${y.toEDNString(a)}`).join(" ")}}`;if(t instanceof Set)return`#{${[...t].map(y.toEDNString).join(" ")}}`;if(Kt(t))return`{${t.map.map(([e,a])=>`${y.toEDNString(e)} ${y.toEDNString(a)}`).join(" ")}}`;if(Zt(t))return`#{${t.set.map(y.toEDNString).join(" ")}}`;if(Rt(t))return`:${t.key}`;if(Gt(t))return t.sym;if(zt(t))return`(${t.list.map(y.toEDNString).join(" ")})`;if(Bt(t))return`#${t.tag} ${y.toEDNString(t.val)}`;if(Qt(t))return`\\${t.char}`;throw new TypeError(`Unknown type: ${JSON.stringify(t)}`)};y.toEDNStringFromSimpleObject=(t,e={keysAs:"keyword"})=>{if(typeof t=="string")return JSON.stringify(t);if(Array.isArray(t))return`[${t.map(a=>y.toEDNStringFromSimpleObject(a,e)).join(" ")}]`;if(typeof t=="number")return t.toString();if(typeof t=="boolean")return JSON.stringify(t);if(t===null)return"nil";if(t instanceof Date)return`#inst "${t.toISOString()}"`;if(typeof t=="bigint")return`${t}N`;if(t instanceof Map)return`{${[...t].map(([a,n])=>`${y.toEDNStringFromSimpleObject(a,e)} ${y.toEDNStringFromSimpleObject(n,e)}`).join(" ")}}`;if(t instanceof Set)return`#{${[...t].map(a=>y.toEDNStringFromSimpleObject(a,e)).join(" ")}}`;if(typeof t=="object")return`{${Object.entries(t).map(([a,n])=>`${e.keysAs==="string"?JSON.stringify(a):`:${a}`} ${y.toEDNStringFromSimpleObject(n,e)}`).join(" ")}}`;throw new TypeError(`Unknown type: ${JSON.stringify(t)}`)}});var gt=J(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});var Xt=ft();Object.defineProperty(Y,"parseEDNString",{enumerable:!0,get:function(){return Xt.parseEDNString}});var G=lt();Object.defineProperty(Y,"toEDNString",{enumerable:!0,get:function(){return G.toEDNString}});Object.defineProperty(Y,"toEDNStringFromSimpleObject",{enumerable:!0,get:function(){return G.toEDNStringFromSimpleObject}});Object.defineProperty(Y,"tagValue",{enumerable:!0,get:function(){return G.tagValue}});Object.defineProperty(Y,"toKeyword",{enumerable:!0,get:function(){return G.toKeyword}});Object.defineProperty(Y,"toSymbol",{enumerable:!0,get:function(){return G.toSymbol}})});var pt=J((st,ot)=>{(function(t,e){typeof st=="object"&&typeof ot<"u"?ot.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).dayjs=e()})(st,function(){"use strict";var t=1e3,e=6e4,a=36e5,n="millisecond",i="second",g="minute",M="hour",f="day",S="week",E="month",j="quarter",F="year",A="date",L="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,At=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,xt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},nt=function(d,o,r){var u=String(d);return!u||u.length>=o?d:""+Array(o+1-u.length).join(r)+d},Ct={s:nt,z:function(d){var o=-d.utcOffset(),r=Math.abs(o),u=Math.floor(r/60),s=r%60;return(o<=0?"+":"-")+nt(u,2,"0")+":"+nt(s,2,"0")},m:function d(o,r){if(o.date()<r.date())return-d(r,o);var u=12*(r.year()-o.year())+(r.month()-o.month()),s=o.clone().add(u,E),h=r-s<0,c=o.clone().add(u+(h?-1:1),E);return+(-(u+(r-s)/(h?s-c:c-s))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:E,y:F,w:S,d:f,D:A,h:M,m:g,s:i,ms:n,Q:j}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return d===void 0}},W="en",H={};H[W]=xt;var it=function(d){return d instanceof z},Z=function d(o,r,u){var s;if(!o)return W;if(typeof o=="string"){var h=o.toLowerCase();H[h]&&(s=h),r&&(H[h]=r,s=h);var c=o.split("-");if(!s&&c.length>1)return d(c[0])}else{var l=o.name;H[l]=o,s=l}return!u&&s&&(W=s),s||!u&&W},b=function(d,o){if(it(d))return d.clone();var r=typeof o=="object"?o:{};return r.date=d,r.args=arguments,new z(r)},p=Ct;p.l=Z,p.i=it,p.w=function(d,o){return b(d,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var z=function(){function d(r){this.$L=Z(r.locale,null,!0),this.parse(r)}var o=d.prototype;return o.parse=function(r){this.$d=function(u){var s=u.date,h=u.utc;if(s===null)return new Date(NaN);if(p.u(s))return new Date;if(s instanceof Date)return new Date(s);if(typeof s=="string"&&!/Z$/i.test(s)){var c=s.match(k);if(c){var l=c[2]-1||0,$=(c[7]||"0").substring(0,3);return h?new Date(Date.UTC(c[1],l,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)):new Date(c[1],l,c[3]||1,c[4]||0,c[5]||0,c[6]||0,$)}}return new Date(s)}(r),this.$x=r.x||{},this.init()},o.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},o.$utils=function(){return p},o.isValid=function(){return this.$d.toString()!==L},o.isSame=function(r,u){var s=b(r);return this.startOf(u)<=s&&s<=this.endOf(u)},o.isAfter=function(r,u){return b(r)<this.startOf(u)},o.isBefore=function(r,u){return this.endOf(u)<b(r)},o.$g=function(r,u,s){return p.u(r)?this[u]:this.set(s,r)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(r,u){var s=this,h=!!p.u(u)||u,c=p.p(r),l=function(P,N){var _=p.w(s.$u?Date.UTC(s.$y,N,P):new Date(s.$y,N,P),s);return h?_:_.endOf(f)},$=function(P,N){return p.w(s.toDate()[P].apply(s.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(N)),s)},m=this.$W,w=this.$M,C=this.$D,x="set"+(this.$u?"UTC":"");switch(c){case F:return h?l(1,0):l(31,11);case E:return h?l(1,w):l(0,w+1);case S:var V=this.$locale().weekStart||0,R=(m<V?m+7:m)-V;return l(h?C-R:C+(6-R),w);case f:case A:return $(x+"Hours",0);case M:return $(x+"Minutes",1);case g:return $(x+"Seconds",2);case i:return $(x+"Milliseconds",3);default:return this.clone()}},o.endOf=function(r){return this.startOf(r,!1)},o.$set=function(r,u){var s,h=p.p(r),c="set"+(this.$u?"UTC":""),l=(s={},s[f]=c+"Date",s[A]=c+"Date",s[E]=c+"Month",s[F]=c+"FullYear",s[M]=c+"Hours",s[g]=c+"Minutes",s[i]=c+"Seconds",s[n]=c+"Milliseconds",s)[h],$=h===f?this.$D+(u-this.$W):u;if(h===E||h===F){var m=this.clone().set(A,1);m.$d[l]($),m.init(),this.$d=m.set(A,Math.min(this.$D,m.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},o.set=function(r,u){return this.clone().$set(r,u)},o.get=function(r){return this[p.p(r)]()},o.add=function(r,u){var s,h=this;r=Number(r);var c=p.p(u),l=function(w){var C=b(h);return p.w(C.date(C.date()+Math.round(w*r)),h)};if(c===E)return this.set(E,this.$M+r);if(c===F)return this.set(F,this.$y+r);if(c===f)return l(1);if(c===S)return l(7);var $=(s={},s[g]=e,s[M]=a,s[i]=t,s)[c]||1,m=this.$d.getTime()+r*$;return p.w(m,this)},o.subtract=function(r,u){return this.add(-1*r,u)},o.format=function(r){var u=this,s=this.$locale();if(!this.isValid())return s.invalidDate||L;var h=r||"YYYY-MM-DDTHH:mm:ssZ",c=p.z(this),l=this.$H,$=this.$m,m=this.$M,w=s.weekdays,C=s.months,x=function(N,_,rt,B){return N&&(N[_]||N(u,h))||rt[_].substr(0,B)},V=function(N){return p.s(l%12||12,N,"0")},R=s.meridiem||function(N,_,rt){var B=N<12?"AM":"PM";return rt?B.toLowerCase():B},P={YY:String(this.$y).slice(-2),YYYY:this.$y,M:m+1,MM:p.s(m+1,2,"0"),MMM:x(s.monthsShort,m,C,3),MMMM:x(C,m),D:this.$D,DD:p.s(this.$D,2,"0"),d:String(this.$W),dd:x(s.weekdaysMin,this.$W,w,2),ddd:x(s.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String(l),HH:p.s(l,2,"0"),h:V(1),hh:V(2),a:R(l,$,!0),A:R(l,$,!1),m:String($),mm:p.s($,2,"0"),s:String(this.$s),ss:p.s(this.$s,2,"0"),SSS:p.s(this.$ms,3,"0"),Z:c};return h.replace(At,function(N,_){return _||P[N]||c.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(r,u,s){var h,c=p.p(u),l=b(r),$=(l.utcOffset()-this.utcOffset())*e,m=this-l,w=p.m(this,l);return w=(h={},h[F]=w/12,h[E]=w,h[j]=w/3,h[S]=(m-$)/6048e5,h[f]=(m-$)/864e5,h[M]=m/a,h[g]=m/e,h[i]=m/t,h)[c]||m,s?w:p.a(w)},o.daysInMonth=function(){return this.endOf(E).$D},o.$locale=function(){return H[this.$L]},o.locale=function(r,u){if(!r)return this.$L;var s=this.clone(),h=Z(r,u,!0);return h&&(s.$L=h),s},o.clone=function(){return p.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},d}(),ut=z.prototype;return b.prototype=ut,[["$ms",n],["$s",i],["$m",g],["$H",M],["$W",f],["$M",E],["$y",F],["$D",A]].forEach(function(d){ut[d[1]]=function(o){return this.$g(o,d[0],d[1])}}),b.extend=function(d,o){return d.$i||(d(o,z,b),d.$i=!0),b},b.locale=Z,b.isDayjs=it,b.unix=function(d){return b(1e3*d)},b.en=H[W],b.Ls=H,b.p={},b})});var Mt=J((fe,mt)=>{"use strict";var te=require("os"),yt=te.homedir();mt.exports=t=>{if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return yt?t.replace(/^~(?=$|\/|\\)/,yt):t}});var ae={};Pt(ae,{default:()=>Tt});module.exports=Jt(ae);var D=require("@raycast/api");var v=require("@raycast/api"),St=U(dt()),$t=U(gt()),et=U(require("path")),Dt=U(pt()),q=U(require("fs")),Et=U(Mt()),bt=()=>{};var ee=(t,e)=>`
${t.split(`
`).map(n=>{let i=n.match(/^( *)/)?.[0].length||0;return e?`${"*".repeat(i+1)} ${n.trimStart()}`:`${" ".repeat(i)}- ${n.trimStart()}`}).join(`
`)}`,wt=t=>q.default.promises.lstat(t).then(e=>{if(!e.isDirectory())throw`Folder does not exist: ${t}`}).catch(e=>{throw e.code==="ENOENT"?`Folder does not exist: ${t}`:"Error"}),at=()=>(0,Et.default)((0,v.getPreferenceValues)().graphPath),Nt=()=>wt(at()),ne=()=>{let t=et.default.join(at(),"/logseq/config.edn");return q.default.promises.readFile(t,{encoding:"utf8"}).then(e=>(0,$t.parseEDNString)(e.toString(),{mapAs:"object",keywordAs:"string"}))};var ie=()=>ne().then(t=>({fileFormat:t["preferred-format"]==="org"?".org":".md",journalsDirectory:t["journals-directory"]||"journals",dateFormat:t["journal/file-name-format"]||"yyyy_MM_dd"})),re=t=>ie().then(({dateFormat:e,journalsDirectory:a,fileFormat:n})=>et.default.join(t,a,`${(0,St.getDateForPageWithoutBrackets)(new Date,e)}${n}`)),Ot=()=>re(at()),se=t=>q.default.promises.access(t).catch(e=>{if(e.code==="ENOENT")return q.default.promises.writeFile(t,"");throw e}),kt=()=>{(0,v.showToast)({style:v.Toast.Style.Failure,title:"Logseq graph path is invalid",message:"Update the path and try again."})},jt=(t,e)=>{let a=e.endsWith(".org");return wt(et.default.dirname(e)).then(()=>se(e)).then(()=>q.default.promises.appendFile(e,ee(t,a)))};var oe=()=>(0,Dt.default)().format("HH:mm"),Ft=t=>{let e=t;return(0,v.getPreferenceValues)().addQuickCaptureTag&&(e="[[quick capture]]: "+e),(0,v.getPreferenceValues)().insertTime&&(e=`**${oe()}** `+e),e};var K=require("react/jsx-runtime");function Tt(){let{pop:t}=(0,D.useNavigation)();async function e(a){if(!a.content)return(0,D.showToast)({style:D.Toast.Style.Failure,title:"\u{1F41D} Type something to get started"});let n=Ft(a.content);Nt().catch(i=>{throw kt(),i}).then(()=>(0,D.showToast)({style:D.Toast.Style.Animated,title:"Adding notes"})).then(Ot).then(i=>jt(n,i)).then(()=>(0,D.showHUD)("\u2705 Note added")).then(t).catch(i=>(0,D.showToast)({style:D.Toast.Style.Failure,title:"Failed",message:i})).catch(bt)}return(0,K.jsx)(D.Form,{actions:(0,K.jsx)(D.ActionPanel,{children:(0,K.jsx)(D.Action.SubmitForm,{title:"Add quick notes",onSubmit:e})}),children:(0,K.jsx)(D.Form.TextArea,{id:"content",title:"Content",placeholder:"Enter notes"})})}
